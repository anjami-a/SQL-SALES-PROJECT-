#Import the libraries needed to run the code
import pandas as pd
import sqlalchemy as sa
import plotly.express as px
import plotly.graph_objects as go
from sqlalchemy.engine import create_engine

# Connecting to the HPlusSport database
engine = create_engine("mysql+pymysql://mariadb:mariadb@localhost/hplussport?charset=utf8mb4")
connection = engine.connect()

#Let's take a peak at our data. This code shows the first 5 records
df = pd.read_sql_query("SELECT * FROM V_CustomerOrderSummary",
                       connection)
df.head()

#Now we'll make a simple bar chart of sales by year
fig = px.bar(df, x='State', y='Total_Sales')
fig.show()
